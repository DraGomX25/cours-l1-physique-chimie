<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cours L1 Physique/Chimie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-image: url('https://cdn.pixabay.com/photo/2017/08/30/01/05/milky-way-2695569_1280.jpg');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            font-family: 'Inter', sans-serif;
        }

        #content-area {
            opacity: 1;
            transform: scale(1) translateY(0px);
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        #content-area.content-exit-active {
            opacity: 0;
            transform: scale(0.90) translateY(20px); 
        }
        
        #content-area.content-enter-prepare {
            opacity: 0;
            transform: scale(1.10) translateY(-20px);
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(224, 242, 254, 0.2); }
        ::-webkit-scrollbar-thumb { background: #0ea5e9; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #38bdf8; }
    </style>
</head>
<body class="text-gray-200 min-h-screen"> 
    <div id="app-container" class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">
        
        <header class="mb-6 md:mb-8 text-center relative bg-white/70 backdrop-blur-md p-4 rounded-xl shadow-xl">
            <button id="back-button" class="hidden absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-sky-500 hover:bg-sky-400 text-white font-semibold py-2 px-3 sm:px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out transform hover:scale-105">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block sm:mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>
                <span class="hidden sm:inline">Retour</span>
            </button>
            <h1 id="main-title" class="text-3xl sm:text-4xl md:text-5xl font-bold text-white transition-all duration-300" style="text-shadow: 1px 1px 3px rgba(0,0,0,0.3);"></h1>
            <p id="breadcrumb" class="mt-2 text-sm sm:text-base min-h-[1.5em] transition-all duration-300"></p>
        </header>

        <main id="content-area" class="bg-white/80 backdrop-blur-md shadow-2xl rounded-2xl p-4 sm:p-6 md:p-10 min-h-[60vh]"></main>

        <footer class="text-center mt-8 sm:mt-12 bg-white/70 backdrop-blur-md p-4 rounded-xl shadow-xl">
            <p class="text-gray-300">&copy; <span id="currentYear"></span> - Partage de Connaissances. Propuls√© avec ‚ù§Ô∏è.</p>
            <p class="mt-2 text-gray-300">Contactez-moi sur Instagram : <a href="https://www.instagram.com/math.dlbe" target="_blank" rel="noopener noreferrer" class="font-semibold text-sky-300 hover:text-sky-100 hover:underline">@math.dlbe</a></p>
        </footer>
    </div>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], },
                    colors: { 
                        sky: { 50:'#f0f9ff',100:'#e0f2fe',200:'#bae6fd',300:'#7dd3fc',400:'#38bdf8',500:'#0ea5e9',600:'#0284c7',700:'#0369a1',800:'#075985',900:'#0c4a6e'},
                        gray: { 100:'#f3f4f6', 200:'#e5e7eb', 300:'#d1d5db', 400:'#9ca3af' }
                     }
                }
            }
        };

        const emptyContentPlaceholder = "<p><em>Contenu √† venir...</em></p>";
        const coursesData = {
            chimie: {
                title: "Chimie", icon: "üß™", description: "Les fondements de la chimie moderne.",
                themes: {
                    chimie_solutions: { 
                        title: "Chimie des solutions", 
                        icon: "üíß", 
                        chapters: [
                            { icon: "üìö", title: "Cours - Chimie des solutions", content: emptyContentPlaceholder },
                            { icon: "‚úÖ", title: "Corrig√©s Exercices - Chimie des solutions", content: emptyContentPlaceholder }
                        ]
                    },
                    atomistique: { // SECTION ATOMISTIQUE MISE √Ä JOUR AVEC LES BONS CHEMINS PDF
                        title: "Atomistique", 
                        icon: "‚öõÔ∏è",
                        chapters: [
                            { 
                                icon: "üìö", 
                                title: "Chapitre 1 - Atomistique (Cours)", 
                                content: `
                                    <h3>Chapitre 1 - Atomistique (Cours)</h3>
                                    <p>Notes de cours pour le premier chapitre d'atomistique.</p>
                                    <p class="mt-4">
                                        <a href="Atomistique_Chapitre_1.pdf" 
                                           target="_blank" 
                                           rel="noopener noreferrer"
                                           class="inline-block bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all duration-200 ease-in-out transform hover:scale-105">
                                           üìÑ Ouvrir le PDF : Cours Chapitre 1
                                        </a>
                                    </p>
                                ` 
                            },
                            { 
                                icon: "üìö", 
                                title: "Chapitre 2 - Atomistique (Cours)", 
                                content: `
                                    <h3>Chapitre 2 - Atomistique (Cours)</h3>
                                    <p>Notes de cours pour le deuxi√®me chapitre d'atomistique.</p>
                                    <p class="mt-4">
                                        <a href="Atomistique_Chapitre_2.pdf" 
                                           target="_blank" 
                                           rel="noopener noreferrer"
                                           class="inline-block bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all duration-200 ease-in-out transform hover:scale-105">
                                           üìÑ Ouvrir le PDF : Cours Chapitre 2
                                        </a>
                                    </p>
                                `
                            },
                            { 
                                icon: "‚úÖ", 
                                title: "Chapitre 2 - Atomistique (Exercices Corrig√©s)", 
                                content: `
                                    <h3>Chapitre 2 - Atomistique (Exercices Corrig√©s)</h3>
                                    <p>Corrig√©s des exercices pour le deuxi√®me chapitre d'atomistique.</p>
                                    <p class="mt-4">
                                        <a href="Atomistique_Chapitre_2_exo.pdf" 
                                           target="_blank" 
                                           rel="noopener noreferrer"
                                           class="inline-block bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all duration-200 ease-in-out transform hover:scale-105">
                                           üìÑ Ouvrir le PDF : Exercices Corrig√©s Chapitre 2
                                        </a>
                                    </p>
                                `
                            },
                            { 
                                icon: "üìö", 
                                title: "Chapitre 3 - Atomistique (Cours)", 
                                content: `
                                    <h3>Chapitre 3 - Atomistique (Cours)</h3>
                                    <p>Notes de cours pour le troisi√®me chapitre d'atomistique.</p>
                                    <p class="mt-4">
                                        <a href="Atomistique_Chapitre_3.pdf" 
                                           target="_blank" 
                                           rel="noopener noreferrer"
                                           class="inline-block bg-sky-500 hover:bg-sky-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all duration-200 ease-in-out transform hover:scale-105">
                                           üìÑ Ouvrir le PDF : Cours Chapitre 3
                                        </a>
                                    </p>
                                `
                            }
                        ]
                    },
                    chimie_organique: { title: "Chimie Organique", icon: "üåø", chapters: [{ icon: "üìö", title: "Cours - Chimie Organique", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Chimie Organique", content: emptyContentPlaceholder }]},
                    equilibre_chimique: { title: "Equilibre Chimique", icon: "‚öñÔ∏è", chapters: [{ icon: "üìö", title: "Cours - Equilibre Chimique", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Equilibre Chimique", content: emptyContentPlaceholder }]},
                    spectroscopie: { title: "Spectroscopie", icon: "üåà", chapters: [{ icon: "üìö", title: "Cours - Spectroscopie", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Spectroscopie", content: emptyContentPlaceholder }]}
                }
            },
            physique: {
                title: "Physique", icon: "‚ö°Ô∏è", description: "Exploration des lois physiques de l'univers.",
                themes: {
                    mecanique: { title: "M√©canique", icon: "‚öôÔ∏è", chapters: [{ icon: "üìö", title: "Cours - M√©canique", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - M√©canique", content: emptyContentPlaceholder }]},
                    fonction_electronique_base: { title: "Fonction electronique de base", icon: "üí°", chapters: [{ icon: "üìö", title: "Cours - Fonction electronique de base", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Fonction electronique de base", content: emptyContentPlaceholder }]},
                    electrocinetique_continue: { title: "Electrocin√©tique r√©gime continue", icon: "üîã", chapters: [{ icon: "üìö", title: "Cours - Electrocin√©tique r√©gime continue", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Electrocin√©tique r√©gime continue", content: emptyContentPlaceholder }]},
                    electrocinetique_alternatif: { title: "Electrocin√©tique r√©gime alternatif", icon: "„Ä∞Ô∏è", chapters: [{ icon: "üìö", title: "Cours - Electrocin√©tique r√©gime alternatif", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Electrocin√©tique r√©gime alternatif", content: emptyContentPlaceholder }]}
                }
            },
            maths: {
                title: "Math√©matiques", icon: "üßÆ", description: "Les outils essentiels pour la science.",
                themes: {
                    fonctions: { title: "Fonctions", icon: "üìà", chapters: [{ icon: "üìö", title: "Cours - Fonctions", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Fonctions", content: emptyContentPlaceholder }]},
                    complexes: { title: "Complexes", icon: "üåÄ", chapters: [{ icon: "üìö", title: "Cours - Complexes", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Complexes", content: emptyContentPlaceholder }]},
                    matrices: { title: "Matrices", icon: "üî¢", chapters: [{ icon: "üìö", title: "Cours - Matrices", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Matrices", content: emptyContentPlaceholder }]},
                    integration: { title: "Int√©gration", icon: "üìê", chapters: [{ icon: "üìö", title: "Cours - Int√©gration", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Int√©gration", content: emptyContentPlaceholder }]},
                    equation_diff: { title: "Equation diff√©rentielle", icon: "‚è≥", chapters: [{ icon: "üìö", title: "Cours - Equation diff√©rentielle", content: emptyContentPlaceholder },{ icon: "‚úÖ", title: "Corrig√©s Exercices - Equation diff√©rentielle", content: emptyContentPlaceholder }]}
                }
            }
        };

        const contentArea = document.getElementById('content-area');
        const mainTitleElement = document.getElementById('main-title');
        const breadcrumbElement = document.getElementById('breadcrumb');
        const backButton = document.getElementById('back-button');
        let navigationStack = [];
        let currentView = { name: 'home', args: [] };

        function updateContent(newHtmlContent, newPageH1Title, newBreadcrumbParts) {
            contentArea.classList.add('content-exit-active');
            setTimeout(() => {
                mainTitleElement.textContent = newPageH1Title;
                contentArea.innerHTML = newHtmlContent; 
                updateBreadcrumb(newBreadcrumbParts);
                contentArea.classList.remove('content-exit-active');
                contentArea.classList.add('content-enter-prepare');
                void contentArea.offsetHeight; 
                contentArea.classList.remove('content-enter-prepare');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 500); 
        }
        
        function updateBreadcrumb(parts) {
            if (!parts || parts.length === 0) { 
                breadcrumbElement.innerHTML = ''; 
                return; 
            }
            breadcrumbElement.innerHTML = parts.map((part, index) => {
                if (part.onClick) {
                    return `<span id="breadcrumb-${index}" class="cursor-pointer hover:underline text-sky-300 hover:text-sky-100 font-medium">${part.text}</span>`;
                }
                return `<span class="text-gray-400">${part.text}</span>`;
            }).join(' <span class="mx-1 text-sky-400">/</span> ');
            parts.forEach((part, index) => {
                if (part.onClick) {
                    const el = document.getElementById(`breadcrumb-${index}`);
                    if (el) { 
                        const newEl = el.cloneNode(true);
                        el.parentNode.replaceChild(newEl, el);
                        newEl.addEventListener('click', part.onClick);
                    }
                }
            });
        }

        function renderHomePage() {
            let homeHtml = '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">';
            for (const key in coursesData) {
                const subject = coursesData[key];
                homeHtml += `
                    <div onclick="navigateTo('subject', '${key}')"
                         class="bg-sky-50/80 hover:bg-sky-100/90 backdrop-blur-sm p-6 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 ease-in-out cursor-pointer transform hover:scale-105 flex flex-col items-center text-center">
                        <span class="text-5xl mb-3">${subject.icon}</span>
                        <h2 class="text-2xl font-semibold text-sky-700 mb-2">${subject.title}</h2>
                        <p class="text-slate-600 text-sm">${subject.description}</p>
                    </div>`;
            }
            homeHtml += '</div>';
            updateContent(homeHtml, "Cours L1 Physique/Chimie", [{ text: "Accueil" }]);
            backButton.classList.add('hidden');
        }

        function renderSubjectPage(subjectKey) {
            const subject = coursesData[subjectKey];
            if (!subject) { console.error("Subject not found:", subjectKey); renderHomePage(); return; }
            let subjectHtml = `<h2 class="text-3xl font-bold text-sky-700 mb-6 text-center flex justify-center items-center"><span class="text-3xl mr-2">${subject.icon}</span>${subject.title}</h2><div class="space-y-4">`;
            if (subject.themes) {
                for (const themeKey in subject.themes) {
                    const theme = subject.themes[themeKey];
                    if (theme) {
                        subjectHtml += `
                            <div onclick="navigateTo('theme', '${subjectKey}', '${themeKey}')" class="bg-white/80 hover:bg-sky-50/90 backdrop-blur-sm p-5 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out cursor-pointer transform hover:translate-x-1 flex items-center">
                                <span class="text-2xl mr-3">${theme.icon || '‚ñ´Ô∏è'}</span>
                                <h3 class="text-xl font-medium text-sky-600">${theme.title || 'Titre du th√®me manquant'}</h3>
                            </div>`;
                    } else { console.error("Theme undefined for key:", themeKey, "in subject:", subjectKey); }
                }
            } else { console.error("No themes found for subject:", subjectKey); subjectHtml += "<p class='text-center text-slate-500'>Aucun th√®me disponible.</p>"; }
            subjectHtml += '</div>';
            const breadcrumbParts = [{ text: "Accueil", onClick: () => navigateTo('home') }, { text: subject.title }];
            updateContent(subjectHtml, subject.title, breadcrumbParts); 
            backButton.classList.remove('hidden');
        }

        function renderThemePage(subjectKey, themeKey) {
            const subject = coursesData[subjectKey]; 
            const theme = subject?.themes?.[themeKey]; 
            if (!theme) { console.error("Theme not found for:", subjectKey, themeKey); renderSubjectPage(subjectKey); return; }
            let themeHtml = `<h2 class="text-3xl font-bold text-sky-700 mb-6 text-center flex justify-center items-center"><span class="text-3xl mr-2">${theme.icon || '‚ñ´Ô∏è'}</span>${theme.title}</h2><div class="space-y-3">`;
            if (theme.chapters) {
                theme.chapters.forEach((chapter, index) => {
                    if (chapter) {
                        themeHtml += `
                            <div onclick="navigateTo('chapter', '${subjectKey}', '${themeKey}', ${index})" class="bg-white/80 hover:bg-sky-50/90 backdrop-blur-sm p-4 rounded-md shadow hover:shadow-lg transition-all duration-300 cursor-pointer transform hover:translate-x-1 flex items-center">
                                <span class="text-xl mr-3">${chapter.icon || '‚ñ´Ô∏è'}</span> 
                                <h4 class="text-lg font-medium text-sky-600">${chapter.title || 'Titre du chapitre manquant'}</h4>
                            </div>`;
                    } else { console.error("Chapter undefined at index:", index, "for theme:", themeKey); }
                });
            } else { console.error("No chapters found for theme:", themeKey); themeHtml += "<p class='text-center text-slate-500'>Aucun chapitre disponible.</p>"; }
            themeHtml += '</div>';
            const breadcrumbParts = [ { text: "Accueil", onClick: () => navigateTo('home') }, { text: subject.title, onClick: () => navigateTo('subject', subjectKey) }, { text: theme.title }];
            updateContent(themeHtml, theme.title, breadcrumbParts); 
            backButton.classList.remove('hidden');
        }

        function renderChapterPage(subjectKey, themeKey, chapterIndex) {
            const subject = coursesData[subjectKey]; 
            const theme = subject?.themes?.[themeKey]; 
            const chapter = theme?.chapters?.[chapterIndex];
            if (!chapter) { console.error("Chapter not found for:", subjectKey, themeKey, chapterIndex); renderThemePage(subjectKey, themeKey); return; }
            let chapterHtml = `
                <div class="bg-white/90 backdrop-blur-sm p-6 rounded-lg shadow-inner">
                    <h2 class="text-3xl font-bold text-sky-700 mb-4 pb-2 border-b border-sky-200 flex items-center">
                        <span class="text-2xl mr-2">${chapter.icon || '‚ñ´Ô∏è'}</span>${chapter.title}
                    </h2>
                    <div class="prose prose-sky max-w-none text-slate-700 leading-relaxed">
                        ${chapter.content || "<p><em>Contenu non disponible.</em></p>"} 
                    </div>
                </div>`;
            const breadcrumbParts = [ { text: "Accueil", onClick: () => navigateTo('home') }, { text: subject.title, onClick: () => navigateTo('subject', subjectKey) }, { text: theme.title, onClick: () => navigateTo('theme', subjectKey, themeKey) }, { text: chapter.title }];
            updateContent(chapterHtml, chapter.title, breadcrumbParts); 
            backButton.classList.remove('hidden');
        }
        
        function navigateTo(view, ...args) {
            const stateToPush = { ...currentView }; 
            const isNavigatingToSameAsCurrent = (view === currentView.name && JSON.stringify(args) === JSON.stringify(currentView.args));
            if (!isNavigatingToSameAsCurrent) {
                let shouldPush = false;
                if (stateToPush.name !== 'home' || (stateToPush.name === 'home' && view !== 'home')) {
                    shouldPush = true;
                }
                if (shouldPush) {
                    const lastStackItem = navigationStack.length > 0 ? navigationStack[navigationStack.length - 1] : null;
                    if (!lastStackItem || lastStackItem.name !== stateToPush.name || JSON.stringify(lastStackItem.args) !== JSON.stringify(stateToPush.args)) {
                         navigationStack.push(stateToPush);
                    }
                }
            }
            currentView = { name: view, args: [...args] };
            switch (view) {
                case 'home': renderHomePage(); break;
                case 'subject': renderSubjectPage(...args); break;
                case 'theme': renderThemePage(...args); break;
                case 'chapter': renderChapterPage(...args); break;
                default: 
                    console.error("Unknown view in navigateTo:", view);
                    renderHomePage();
            }
        }

        function navigateBack() {
            if (navigationStack.length > 0) {
                const previousState = navigationStack.pop();
                currentView = { ...previousState }; 
                switch (previousState.name) {
                    case 'home': renderHomePage(); break;
                    case 'subject': renderSubjectPage(...previousState.args); break;
                    case 'theme': renderThemePage(...previousState.args); break;
                    default: 
                        console.warn("navigateBack - Unknown state name in stack:", previousState.name, "Defaulting to home.");
                        renderHomePage();
                }
            } else {
                currentView = { name: 'home', args: [] };
                renderHomePage();
            }
        }
        
        backButton.addEventListener('click', navigateBack);

        document.addEventListener('DOMContentLoaded', () => {
            currentView = { name: 'home', args: [] }; 
            renderHomePage();
            document.getElementById('currentYear').textContent = new Date().getFullYear();
        });
    </script>
</body>
</html>
